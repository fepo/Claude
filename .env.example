# ================================================================
# CONTESTAÇÃO SAAS - Environment Variables
# ================================================================
# Copy to .env.local and fill with your actual values
# Last updated: 2026-02-19

# ================================================================
# 1. ANTHROPIC API (Claude)
# ================================================================
ANTHROPIC_API_KEY=sk_ant_...

# ================================================================
# 2. PAGAR.ME INTEGRATION
# ================================================================
# API Key (v5) - Get from: https://dashboard.pagar.me/account/apikeys
PAGARME_API_KEY=sk_live_...
# Or test key
# PAGARME_API_KEY=sk_test_...

# Webhook Secret - Get from: https://dashboard.pagar.me/webhooks
PAGARME_WEBHOOK_SECRET=whsec_...

# Webhook ID (auto-filled by script/webhook-register.js)
PAGARME_WEBHOOK_ID=hook_...

# Webhook callback URL (where Pagar.me will send events)
PAGARME_WEBHOOK_URL=https://yourdomain.com/api/pagarme/chargebacks

# ================================================================
# 3. SUPABASE (PostgreSQL)
# ================================================================
# Project URL - Get from: https://app.supabase.com/project/[YOUR_PROJECT]/settings/api
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[REGION].supabase.co:5432/postgres

# Supabase Anon Key (if using REST API)
SUPABASE_ANON_KEY=eyJhbGc...

# Supabase Service Role Key (for backend operations)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...

# ================================================================
# 4. N8N INTEGRATION
# ================================================================
# n8n Cloud API Key - Get from: https://cloud.n8n.io/account/security
N8N_API_KEY=n8n_....

# n8n Base URL (Cloud)
N8N_BASE_URL=https://cloud.n8n.io/api/v1

# n8n Webhook URL (where n8n receives events)
N8N_WEBHOOK_URL=https://cloud.n8n.io/webhook/...

# ================================================================
# 5. SHOPIFY INTEGRATION
# ================================================================
# Admin API Token - Get from: Shopify Admin > Apps > Develop apps > [App] > Configuration
SHOPIFY_API_ACCESS_TOKEN=shpat_...

# Store URL (without https://)
SHOPIFY_STORE_URL=your-store.myshopify.com

# API Version (latest)
SHOPIFY_API_VERSION=2024-10

# ================================================================
# 6. LINKETRACK (Rastreamento)
# ================================================================
# Token API - Get from: https://app.linketrack.com/config/integracao
LINKETRACK_API_TOKEN=token_...

# ================================================================
# 7. EMAIL CONFIGURATION (SMTP)
# ================================================================
# SMTP Host (seu servidor ou serviço de email)
SMTP_HOST=smtp.seudominio.com

# SMTP Port (587 para TLS, 465 para SSL)
SMTP_PORT=587

# SMTP Username/Email
SMTP_USER=noreply@seudominio.com

# SMTP Password
SMTP_PASSWORD=seu_senha_smtp

# Remetente padrão
SMTP_FROM=noreply@seudominio.com
SMTP_FROM_NAME=Contestação SaaS

# ================================================================
# 8. SLACK NOTIFICATIONS
# ================================================================
# Slack Webhook URL - Get from: Slack App > Incoming Webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXX

# Slack Channel (optional, can be set in webhook)
SLACK_CHANNEL=#chargebacks

# ================================================================
# 9. NOTIFICAÇÃO ADMIN
# ================================================================
# Email para notificações críticas
ADMIN_EMAIL=admin@seudominio.com

# Slack user ID para menções (optional)
ADMIN_SLACK_USER_ID=U123456789

# ================================================================
# 10. APLICAÇÃO
# ================================================================
# Ambiente
NODE_ENV=production

# URL da aplicação (para links em emails)
APP_URL=https://yourdomain.com

# Versão da API
API_VERSION=v1

# ================================================================
# 11. FEATURES (Feature Flags)
# ================================================================
# Habilitar integração Shopify
ENABLE_SHOPIFY=true

# Habilitar rastreamento LinkeTrack
ENABLE_LINKETRACK=true

# Habilitar notificações Slack
ENABLE_SLACK=true

# Habilitar automação n8n
ENABLE_N8N=true

# ================================================================
# 12. DATA RETENTION
# ================================================================
# Dias para manter logs de webhook
WEBHOOK_LOG_RETENTION_DAYS=30

# Dias para manter drafts não enviados
DRAFT_RETENTION_DAYS=90

# ================================================================
# 13. RATE LIMITING / THROTTLING
# ================================================================
# Máximo de chargebacks por minuto (para webhook)
CHARGEBACK_RATE_LIMIT=10

# Máximo de requisições Claude por segundo
CLAUDE_RATE_LIMIT=2

# ================================================================
# 14. CLAUDE MODELS (para n8n)
# ================================================================
# Modelo para triagem (mais barato)
CLAUDE_TRIAGE_MODEL=claude-haiku-4-5-20251001

# Modelo para redação jurídica (mais caro)
CLAUDE_LEGAL_MODEL=claude-sonnet-4-6

# ================================================================
# 15. DEBUG / LOGGING
# ================================================================
# Nível de log (debug, info, warn, error)
LOG_LEVEL=info

# Habilitar logs detalhados de webhook
DEBUG_WEBHOOKS=false

# Habilitar logs detalhados de Claude API
DEBUG_CLAUDE=false
